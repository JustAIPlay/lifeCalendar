<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿå‘½æ—¥å†</title>
    
    <!-- æ¨¡å—åŒ–CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/calendar.css">
    <link rel="stylesheet" href="css/ui.css">
    <link rel="stylesheet" href="css/card.css">
    <link rel="stylesheet" href="css/modal.css">
</head>
<body>
    <div class="input-container">
        <div class="theme-selector">
            <!-- ä¸»é¢˜é€‰æ‹©å™¨å°†ç”±ThemeManageråŠ¨æ€ç”Ÿæˆ -->
        </div>
        <input type="date" id="birthDate" placeholder="é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ">
    </div>
    
    <div class="calendar-container" id="calendar"></div>
    
    <div class="info">
        <div>å·²åº¦è¿‡ 0 å‘¨ï¼Œå‰©ä½™ 4680 å‘¨</div>
        <div>å½“å‰å¹´é¾„ï¼š0 å²</div>
        <div>ç”Ÿå‘½è¿›åº¦ï¼š0%</div>
    </div>
    
    <div class="legend">
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--past);"></div>
            <span>å·²åº¦è¿‡</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--now);"></div>
            <span>ç°åœ¨</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--future);"></div>
            <span>æœªæ¥</span>
        </div>
    </div>
    
    <div class="card-generator">
        <button class="generate-btn">
            ğŸ¨ ç”Ÿæˆç”Ÿå‘½å¡ç‰‡
        </button>
    </div>

    <!-- å¡ç‰‡ç”Ÿæˆæ¨¡æ€æ¡† -->
    <div class="card-modal" id="cardModal">
        <div class="card-content">
            <h2>ç”Ÿæˆä½ çš„ç”Ÿå‘½å¡ç‰‡</h2>
            <div class="card-preview" id="cardPreview">
                <!-- SVGå¡ç‰‡å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
            
            <div class="download-section">
                <button class="download-btn">ğŸ“¥ ä¸‹è½½PNGå›¾ç‰‡</button>
                <button class="close-btn">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- æ¨¡å—åŒ–JavaScript -->
    <script src="js/core/date-utils.js"></script>
    <script src="js/core/calendar.js"></script>
    <script src="js/theme/themes.js"></script>
    <script src="js/theme/theme-manager.js"></script>
    <script src="js/card/quotes.js"></script>
    <script src="js/card/card-generator.js"></script>
    <script src="js/ui/modal.js"></script>
    <script src="js/ui/event-handlers.js"></script>
    
    <script>
        // åº”ç”¨åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
            Calendar.init();
            ThemeManager.init();
            CardGenerator.init();
            Modal.init();
            EventHandlers.init();
            
            // ç›‘å¬ä¸»é¢˜å˜åŒ–
            ThemeManager.onThemeChange(EventHandlers.handleThemeChange);
            
            // ç›‘å¬æ¨¡æ€æ¡†äº‹ä»¶
            document.addEventListener('modalOpen', function() {
                // æ¨¡æ€æ¡†æ‰“å¼€æ—¶çš„å¤„ç†
                const birthDate = new Date(document.getElementById('birthDate').value);
                if (!isNaN(birthDate.getTime())) {
                    Modal.updateCardPreview(birthDate);
                }
            });
            
            console.log('ç”Ÿå‘½æ—¥å†æ¨¡å—åŒ–ç‰ˆæœ¬åˆå§‹åŒ–å®Œæˆ');
        });
    </script>
</body>
</html>